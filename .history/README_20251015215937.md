# 📍 Geo Check-in App

Ứng dụng React Native (Expo) cho phép người dùng check-in với GPS, lưu ghi chú và hiển thị trên bản đồ.

## ✨ Tính năng

1. **Check-in với GPS**: Sử dụng `expo-location` để lấy vị trí hiện tại (latitude, longitude)
2. **Ghi chú Check-in**: Nhập ghi chú cho mỗi lần check-in
3. **Lưu trữ dữ liệu**: Sử dụng AsyncStorage để lưu trữ dữ liệu check-in
4. **Hiển thị bản đồ**: Sử dụng `react-native-maps` để hiển thị tất cả các marker check-in
5. **Lịch sử Check-in**: Danh sách FlatList hiển thị tất cả check-in
6. **Mở bản đồ ngoài**: Click vào item để mở Google Maps/Apple Maps
7. **React Navigation**: Điều hướng giữa các màn hình

## 📱 Màn hình

- **CheckinScreen**: Màn hình check-in chính
  - Nhập ghi chú
  - Hiển thị tọa độ GPS hiện tại
  - Nút Check-in
  - Cập nhật vị trí

- **MapScreen**: Màn hình bản đồ
  - Hiển thị tất cả marker check-in
  - Callout với thông tin chi tiết
  - Tự động center vào check-in mới nhất

- **HistoryScreen**: Lịch sử check-in
  - Danh sách FlatList
  - Mở Google Maps/Apple Maps
  - Xóa từng item hoặc xóa tất cả

## 🚀 Cài đặt

### Yêu cầu
- Node.js (v14 trở lên)
- Expo CLI
- Expo Go app trên điện thoại (iOS/Android)

### Các bước cài đặt

1. **Clone/Download project**
```bash
cd geo-checkin
```

2. **Cài đặt dependencies**
```bash
npm install
```

3. **Chạy ứng dụng**
```bash
npm start
# hoặc
expo start
```

4. **Chạy trên thiết bị**
- Quét QR code bằng Expo Go app (Android) hoặc Camera (iOS)
- Hoặc nhấn `a` để mở Android emulator
- Hoặc nhấn `i` để mở iOS simulator

## 📦 Dependencies

```json
{
  "expo-location": "~17.0.1",
  "react-native-maps": "1.14.0",
  "@react-native-async-storage/async-storage": "1.23.1",
  "@react-navigation/native": "^6.1.9",
  "@react-navigation/stack": "^6.3.20",
  "react-native-gesture-handler": "~2.16.1",
  "react-native-reanimated": "~3.10.1",
  "react-native-screens": "~3.31.1"
}
```

## 🗂️ Cấu trúc thư mục

```
geo-checkin/
├── App.js                      # Entry point, Navigation setup
├── src/
│   ├── screens/
│   │   ├── CheckinScreen.js   # Màn hình check-in
│   │   ├── MapScreen.js       # Màn hình bản đồ
│   │   └── HistoryScreen.js   # Màn hình lịch sử
│   └── utils/
│       └── storage.js         # AsyncStorage utilities
├── package.json
├── app.json
└── README.md
```

## 🔑 Quyền truy cập

Ứng dụng yêu cầu các quyền sau:

### iOS
- Location When In Use: Truy cập vị trí khi sử dụng app

### Android
- ACCESS_FINE_LOCATION: Truy cập vị trí chính xác
- ACCESS_COARSE_LOCATION: Truy cập vị trí gần đúng

Quyền này đã được cấu hình trong `app.json`.

## 💾 Dữ liệu lưu trữ

Mỗi check-in được lưu với cấu trúc:
```javascript
{
  id: "1697356800000",
  lat: 10.823099,
  lng: 106.629664,
  note: "Văn phòng",
  time: "2025-10-15T08:00:00.000Z",
  timestamp: 1697356800000
}
```

## 🗺️ URL Scheme cho Maps

- **iOS**: `maps://maps.apple.com/?q=...`
- **Android**: `geo:0,0?q=...`
- **Fallback**: Google Maps web URL

## 🎨 Giao diện

- Design hiện đại với Material Design
- Màu chủ đạo: Green (#4CAF50)
- Icons emoji cho dễ nhìn
- Responsive và user-friendly

## 🐛 Troubleshooting

### Lỗi "Expo Go không tìm thấy app"
```bash
expo start --clear
```

### Lỗi Maps không hiển thị (Android)
- Cần Google Maps API key cho production
- Expo Go đã có sẵn Maps, không cần key khi dev

### Lỗi Location Permission
- Kiểm tra Settings > App > Geo-checkin > Permissions
- Đảm bảo đã cấp quyền Location

## 📝 License

MIT License - Tự do sử dụng cho mục đích học tập và phát triển.

## 👨‍💻 Author

Project for Mobile App Development Course (PTUDDNT)

---

**Lưu ý**: Đây là ứng dụng demo cho mục đích học tập. Khi deploy production cần thêm error handling, validation và security measures.
